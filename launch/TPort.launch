<launch>
    <node pkg="rosserial_python" type="serial_node.py" name="serial_node">
    	<param name="port" value="/dev/ttyUSB0"/>
    </node>
	<!--node respawn="true" pkg="phoenix-template" type="CanifierServo" name="CanifierServo" />
	<node respawn="true" pkg="phoenix-template" type="SimpleJoystick" name="SimpleJoystick">
		<remap from="speed" to="position"/>
	</node-->

    <node pkg="lunabotics2020" type="TPortConveyorHW" name= "TPortConveyorHW" />
    <node pkg="lunabotics2020" type= "TPortDriveBaseHW" name= "TPortDriveBaseHW" />
	<!--include file="$(find lunabotics2020)/launch/test.launch" /-->

	<node name="perceptionLidar"          pkg="rplidar_ros"  type="rplidarNode" output="screen">
		<param name="serial_port"         type="string" value="/dev/ttyUSB0"/>  
		<param name="serial_baudrate"     type="int"    value="256000"/>
		<param name="frame_id"            type="string" value="perception_frame"/>
		<param name="inverted"            type="bool"   value="false"/>
		<param name="angle_compensate"    type="bool"   value="true"/>
		<param name="scan_mode"			  type="string" value="DenseBoost"/>

		<!--Change topic name to beacon_scan-->
		<remap from="scan" to="perception_scan"/>
	</node>
    
</launch>